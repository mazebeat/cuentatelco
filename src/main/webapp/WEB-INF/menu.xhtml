<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pu="http://primefaces.org/ultima">

    <h:form id="menuform"> 
        <div class="layout-menu #{beanGuestPreferences.menuClass}">
            <div class="nano">
                <div class="nano-content menu-scroll-content">
                    <ui:fragment rendered="#{beanGuestPreferences.profileMode == 'inline' and beanGuestPreferences.menuLayout != 'menu-layout-static menu-layout-horizontal'}">
                        <div class="profile">
                            <div class="profile-image"></div>
                            <a id="profile-options" href="#">
                                <span class="profile-name">#{loginBean.person.nombre}</span>
                                <i class="material-icons">&#xE313;</i>
                            </a>
                        </div>

                        <ul id="profile-menu" class="ultima-menu">
                            <li role="menuitem">
                                <h:outputLink value="profile.xhtml"> 
                                    <i class="material-icons">&#xE7FD;</i>
                                    <span>Perfil</span>
                                </h:outputLink>
                            </li>
                            <li role="menuitem">
                                <h:outputLink value="contact.xhtml">
                                    <i class="material-icons">perm_phone_msg</i>
                                    <span>Contacto</span>
                                </h:outputLink>
                            </li>
                            <li role="menuitem"> 
                                <h:commandLink action="#{telegramBean.load()}"> 
                                    <i class="material-icons">link</i>
                                    <span>Telegram</span>
                                </h:commandLink >                               
                            </li>
                            <li role="menuitem">
                                <h:commandLink action="#{facebookBean.load()}"> 
                                    <i class="material-icons">link</i>
                                    <span>Facebook</span>
                                </h:commandLink >                                
                            </li>
                            <li role="menuitem">
                                <p:commandLink id="logout" actionListener="#{loginBean.logout}" style="margin-right:20px;" oncomplete="logout(xhr, status, args)">
                                    <i class="material-icons">&#xE8AC;</i>
                                    <span>Logout</span>
                                </p:commandLink>
                            </li>
                        </ul>
                    </ui:fragment>

                    <div class="ui-g">
                        <div class="ui-g-12" style="padding-bottom: 0;">
                            <p:fieldset legend="Información Personal" toggleable="true" toggleSpeed="500" collapsed="true" id="personalinfo">
                                <small>
                                    <h:panelGrid columns="1" cellpadding="5">
                                        <div class="ui-g-6 ui-g-nopad bold"><strong>RUT</strong></div>
                                        <div class="ui-g-6 ui-g-nopad footer-text-right">#{loginBean.client.rut}</div>
                                        <div class="ui-g-6 ui-g-nopad bold"><strong>Dirección</strong></div>
                                        <div class="ui-g-6 ui-g-nopad footer-text-right">#{loginBean.person.direccionPersonal}</div>
                                    </h:panelGrid>
                                </small>
                            </p:fieldset>
                        </div>
                    </div>

                    <pu:menu widgetVar="me">
                        <p:menuitem id="um_home" value="Inicio" icon="home" outcome="/dashboard" />
                        <p:menuitem id="um_accountdetail" value="Detalles de la cuenta" icon="chrome_reader_mode" outcome="/account_detail" />
                        <p:submenu id="um_reports" label="Reportes" icon="lightbulb_outline">
                            <p:menuitem id="report1" value="Detalle del mes" icon="donut_small" outcome="month_detail" />
                            <p:menuitem id="report2" value="Evolución total mensual" icon="trending_up"  outcome="monthly_evolution"  />
                            <p:menuitem id="report3" value="Histórico de productos" icon="donut_large" />
                            <p:menuitem id="report4" value="Teléfonos por productos" icon="donut_large" />
                        </p:submenu>
                        <p:menuitem id="um_promotions" value="Promociones" icon="card_giftcard" outcome="/promotions" />
                        <p:menuitem id="um_legal" value="Legal" icon="gavel" outcome="/legal" />
                        <p:menuitem id="um_customerservice" value="Servicio al cliente" icon="announcement" outcome="/customer_service" />
                    </pu:menu>
                </div>
            </div>
        </div>
    </h:form>
</ui:composition> 